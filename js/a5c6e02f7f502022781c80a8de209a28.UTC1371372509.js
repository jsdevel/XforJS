!function(){var e=$("body");var c="shown";var d="hidden";var f="active";$.fn.giver=function(h){var g=$.extend({hideonclick:false},h);return this.each(function(){var j=$(this);var i=$(j.data("gift"));if(j.data("hideonclick")){g.hideonclick=true}j.on("click",function(k){if(j.hasClass(c)||!j.hasClass(d)){if(g.hideonclick){b(j)}a(i)}else{if(g.hideonclick){a(j)}b(i)}});i.on(d,function(){a(j)})})};$(function(){$(".giver").giver()});e.on("click",".close-button",function(i){var h=$(this);var g=$(h.data("closes"));b(g);g.trigger(d)});function a(g){g.removeClass(d).addClass(c)}function b(g){g.addClass(d).removeClass(c)}$.fn.tabs=function(g){return this.each(function(){var l=$(this);var j=l.parent().children(".tab-content");var h=l.find("."+f).data("tab");var m;k();i(h);l.on("click","span",function(){var n=$(this).data("tab");if(m===n){return}else{m=n}k();i(n);return false});function i(n){l.find('[data-tab="'+n+'"]').addClass(f);j.find(n).addClass(f)}function k(){j.children("."+f).removeClass(f);l.children("."+f).removeClass(f)}})};$(function(){$(".tabs").tabs()})}();function safeEval(code){return eval(code)}!function(h,g){var e=h.getCompiler({removelogs:false,useexternal:true});var f=g("body");safeEval(h.getLib());b();f.on("keyup",".code-editor textarea",function(n){var u;var j;var o=g(this);var i=o.closest(".code-editor");var p=i.find('span[data-tab="'+o.data("tab")+'"]');var l=i.find("textarea.raw");var q=i.find("textarea.input-data");var k=i.find("textarea.input-params");var v;var m;var t;var s;var r;if(!this.CompileTimeRecorder){this.CompileTimeRecorder=new c()}if(!this.OutputTimeRecorder){this.OutputTimeRecorder=new c()}t=this.CompileTimeRecorder;s=this.OutputTimeRecorder;try{v=(new Function("return "+q.val().replace(/\s+/,"")))();v.time={average:t.getAverage(),entries:t.getNumberOfEntries(),highest:t.getHighTime(),lowest:t.getLowTime()};r=a(l);m=(new Function("return "+k.val().replace(/\s+/,"")))();t.mark();u=e.compile(r);t.stop();safeEval(u);s.mark();j=documentation.books.buildBookSection(v,m);s.stop();p.removeClass("error")}catch(n){u=n;p.addClass("error")}i.find(".compiled").text(u);i.find(".output-text").text(j);i.find(".rendered").html(j);i.find(".statistics").html(documentation.sample_stats.getStats({Compiling:{average:~~t.getAverage(),high:t.getHighTime(),low:t.getLowTime(),count:t.getNumberOfEntries()},"Output (pre-rendering)":{average:~~s.getAverage(),high:s.getHighTime(),low:s.getLowTime(),count:s.getNumberOfEntries()}}))}).on("keydown","textarea",function(q){var l="   ";var t=q.keyCode||q.which;var k=t===9;var p=t===8;var r=g(this);var j;var m;var o;var s;var i;var n;if(k||p){j=this.selectionStart;m=this.selectionEnd;o=j||m;s=r.val();if(o){if(k){i=s.substring(0,o)+l+s.substring(o,s.length);n=o+l.length}else{if(p){if(l===s.substring(o-l.length,o)){i=s.substring(0,o-l.length)+s.substring(o,s.length);n=o-l.length}}}if(i){q.preventDefault();r.val(i);this.selectionStart=this.selectionEnd=n}}}});g(window).on("load",function(){f.find(".code-editor.open textarea.raw").trigger("keyup")});g(".changelog span").click((function(){var l=false;var j=g(".changelog");var k=j.find("div");var i=j.data("version");return function(){if(!l){l=true;g.getJSON("json/CHANGELOG."+i+".json",function(m){loaded=true;d();k.html(documentation.changelog(m))})}else{k.toggle()}}})());function d(){var i=a(g("#XJS_CHANGELOG"));safeEval(e.compile(i))}function b(){var i=a(g("#XJS_SAMPLE_STATS"));safeEval(e.compile(i))}function a(i){var j=i.val()||i.text();return j.replace(/^\s+(\{)|(\})\s+$/,"$1$2")}function c(){var j=0;var m=0;var n=0;var l=0;var k;var i=this;this.addTime=function(o){if(l===0||o<l){l=o}if(n===0||o>n){n=o}j++;m+=o};this.mark=function(){k=Date.now()};this.stop=function(){if(k){i.addTime(Date.now()-k);k=void 0}};this.getAverage=function(){return m/j};this.getNumberOfEntries=function(){return j};this.getHighTime=function(){return n};this.getLowTime=function(){return l}}}(XforJS,jQuery);